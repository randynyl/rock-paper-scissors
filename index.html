<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Rock-Paper-Scissors</title>
  <meta name="description" content="My Page Description">
  <style>
      .container{
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
      }

      .break {
          flex-basis: 100%;
          height: 0;
      }

  </style>
</head>
<body>
    <div class="container">
        <div>Round 1</div>
        <div class="break"></div>
        <div>What will you play?</div>
        <div class="break"></div>
        <div>
            <button id="Rock">
                Rock
            </button>
            <button id="Paper">
                Paper
            </button>
            <button id="Scissors">
                Scissors
            </button>
        </div>
    </div>
    <script>
        const ROUND_WON = 1;
        const ROUND_DRAW = 0;
        const ROUND_LOST = -1;

        function computerPlay() {
            let choices = ['Rock', 'Paper', 'Scissors']
            let computer_choice = choices[Math.floor(Math.random()*choices.length)];
            return computer_choice;
        }

        function playRound(playerSelection, computerSelection) {
            let playerSelectionStandardised = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1).toLowerCase();
            console.log(`Player's choice: ${playerSelectionStandardised}`);
            console.log(`Computer's choice: ${computerSelection}`);
            let roundOutcome = determineRoundOutcome(playerSelectionStandardised, computerSelection);
            displayRoundOutcomeMessage(playerSelectionStandardised, computerSelection, roundOutcome);
            return roundOutcome;
        }

        function determineRoundOutcome(playerSelection, computerSelection) {
            switch (playerSelection) {
                case 'Scissors':
                    if (computerSelection === 'Paper') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Scissors') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;
                case 'Paper':
                    if (computerSelection === 'Rock') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Paper') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;
                case 'Rock':
                    if (computerSelection === 'Scissors') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Rock') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;

            }     
        }

        function displayRoundOutcomeMessage(playerSelection, computerSelection, roundOutcome) {
            if (roundOutcome === ROUND_WON) {
                console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
            }
            if (roundOutcome === ROUND_DRAW) {
                console.log(`Draw! ${playerSelection} ties ${computerSelection}`);
            }
            if (roundOutcome === ROUND_LOST) {
                console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
            }
        }

        function game() {
            let playerPoints = 0;
            let computerPoints = 0;
            let computerSelection = "";
            let playerSelection = "";
            let roundCount = 1;


            const buttons = document.querySelectorAll('button');
            buttons.forEach((button) => {
                button.addEventListener('click', () => {
                    console.log(`Round ${roundCount}!`)
                    console.log(button.id);
                    computerSelection = computerPlay();
                    playerSelection = button.id;
                    let roundResult = playRound(playerSelection, computerSelection);
                    if (roundResult == ROUND_WON) {
                        playerPoints += 1;
                    } else if (roundResult == ROUND_LOST) {
                        computerPoints += 1;
                    }
                    roundCount += 1;
                    console.log('Player\'s points: ' + playerPoints);
                    console.log('Computer\'s points: ' + computerPoints);
                    if (playerPoints == 5 || computerPoints == 5) {
                        endGame(playerPoints, computerPoints);
                    }
                });
            });
        }

        function endGame(playerPoints, computerPoints) {
            console.log('Game ends!');
            if (playerPoints > computerPoints) {
                console.log('You win!');
            } else {
                console.log('Computer wins!');
            }
        }




         game();

    </script>
</body>
</html>

