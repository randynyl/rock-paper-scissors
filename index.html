<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Rock-Paper-Scissors</title>
  <meta name="description" content="My Page Description">
</head>
<body>
    <script>
        const ROUND_WON = 1;
        const ROUND_DRAW = 0;
        const ROUND_LOST = -1;

        function computerPlay() {
            let choices = ['Rock', 'Paper', 'Scissors']
            let computer_choice = choices[Math.floor(Math.random()*choices.length)];
            return computer_choice;
        }

        function playRound(playerSelection, computerSelection) {
            let playerSelectionStandardised = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1).toLowerCase();
            console.log(`Player's choice: ${playerSelectionStandardised}`);
            console.log(`Computer's choice: ${computerSelection}`);
            let roundOutcome = determineRoundOutcome(playerSelectionStandardised, computerSelection);
            displayRoundOutcomeMessage(playerSelectionStandardised, computerSelection, roundOutcome);
            return roundOutcome;
        }

        function determineRoundOutcome(playerSelection, computerSelection) {
            switch (playerSelection) {
                case 'Scissors':
                    if (computerSelection === 'Paper') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Scissors') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;
                case 'Paper':
                    if (computerSelection === 'Rock') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Paper') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;
                case 'Rock':
                    if (computerSelection === 'Scissors') {
                        return ROUND_WON;
                    } else if (computerSelection === 'Rock') {
                        return ROUND_DRAW;
                    } else {
                        return ROUND_LOST;
                    }
                    break;

            }     
        }

        function displayRoundOutcomeMessage(playerSelection, computerSelection, roundOutcome) {
            if (roundOutcome === ROUND_WON) {
                console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
            }
            if (roundOutcome === ROUND_DRAW) {
                console.log(`Draw! ${playerSelection} ties ${computerSelection}`);
            }
            if (roundOutcome === ROUND_LOST) {
                console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
            }
        }

        function game() {
            let playerPoints = 0
            for (let i = 0; i < 5; i++) {
                console.log(`Round ${i}!`)
                let computerSelection = computerPlay();
                let playerSelection = prompt("What will you play?");
                playerPoints += playRound(playerSelection, computerSelection);
            }
            if (playerPoints > 0) {
                console.log("Game has ended. You win overall!");
            } else if (playerPoints < 0) {
                console.log("Game has ended. You lose overall!");
            } else {
                console.log("Game has ended. It is a tie overall!");
            }
        }

        game();

    </script>
</body>
</html>

